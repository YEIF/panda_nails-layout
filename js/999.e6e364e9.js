(self["webpackChunkpanda_nails"]=self["webpackChunkpanda_nails"]||[]).push([[999],{3863:function(e,t,s){
/*!
  * Bootstrap collapse.js v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,i){e.exports=i(s(493),s(9286),s(3175),s(8737),s(5695))})(0,(function(e,t,s,i,n){"use strict";const l=e=>e&&"object"===typeof e&&"default"in e?e:{default:e},o=l(e),r=l(t),a=l(s),d=l(i),c=l(n),u=e=>null===e||void 0===e?`${e}`:{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),h=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let s=e.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),t=s&&"#"!==s?s.trim():null}return t},g=e=>{const t=h(e);return t&&document.querySelector(t)?t:null},p=e=>{const t=h(e);return t?document.querySelector(t):null},f=e=>!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType),_=e=>f(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(e):null,m=(e,t,s)=>{Object.keys(s).forEach((i=>{const n=s[i],l=t[i],o=l&&f(l)?"element":u(l);if(!new RegExp(n).test(o))throw new TypeError(`${e.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${n}".`)}))},w=e=>{e.offsetHeight},b=()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null},y=[],v=e=>{"loading"===document.readyState?(y.length||document.addEventListener("DOMContentLoaded",(()=>{y.forEach((e=>e()))})),y.push(e)):e()},C=e=>{v((()=>{const t=b();if(t){const s=e.NAME,i=t.fn[s];t.fn[s]=e.jQueryInterface,t.fn[s].Constructor=e,t.fn[s].noConflict=()=>(t.fn[s]=i,e.jQueryInterface)}}))},x="collapse",$="bs.collapse",k=`.${$}`,z=".data-api",A={toggle:!0,parent:null},T={toggle:"boolean",parent:"(null|element)"},D=`show${k}`,L=`shown${k}`,j=`hide${k}`,S=`hidden${k}`,E=`click${k}${z}`,I="show",q="collapse",O="collapsing",B="collapsed",N=`:scope .${q} .${q}`,Z="collapse-horizontal",W="width",H="height",F=".collapse.show, .collapse.collapsing",M='[data-bs-toggle="collapse"]';class U extends c.default{constructor(e,t){super(e),this._isTransitioning=!1,this._config=this._getConfig(t),this._triggerArray=[];const s=d.default.find(M);for(let i=0,n=s.length;i<n;i++){const e=s[i],t=g(e),n=d.default.find(t).filter((e=>e===this._element));null!==t&&n.length&&(this._selector=t,this._triggerArray.push(e))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return A}static get NAME(){return x}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e,t=[];if(this._config.parent){const e=d.default.find(N,this._config.parent);t=d.default.find(F,this._config.parent).filter((t=>!e.includes(t)))}const s=d.default.findOne(this._selector);if(t.length){const i=t.find((e=>s!==e));if(e=i?U.getInstance(i):null,e&&e._isTransitioning)return}const i=r.default.trigger(this._element,D);if(i.defaultPrevented)return;t.forEach((t=>{s!==t&&U.getOrCreateInstance(t,{toggle:!1}).hide(),e||o.default.set(t,$,null)}));const n=this._getDimension();this._element.classList.remove(q),this._element.classList.add(O),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const l=()=>{this._isTransitioning=!1,this._element.classList.remove(O),this._element.classList.add(q,I),this._element.style[n]="",r.default.trigger(this._element,L)},a=n[0].toUpperCase()+n.slice(1),c=`scroll${a}`;this._queueCallback(l,this._element,!0),this._element.style[n]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown())return;const e=r.default.trigger(this._element,j);if(e.defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,w(this._element),this._element.classList.add(O),this._element.classList.remove(q,I);const s=this._triggerArray.length;for(let n=0;n<s;n++){const e=this._triggerArray[n],t=p(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(O),this._element.classList.add(q),r.default.trigger(this._element,S)};this._element.style[t]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(I)}_getConfig(e){return e={...A,...a.default.getDataAttributes(this._element),...e},e.toggle=Boolean(e.toggle),e.parent=_(e.parent),m(x,e,T),e}_getDimension(){return this._element.classList.contains(Z)?W:H}_initializeChildren(){if(!this._config.parent)return;const e=d.default.find(N,this._config.parent);d.default.find(M,this._config.parent).filter((t=>!e.includes(t))).forEach((e=>{const t=p(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}))}_addAriaAndCollapsedClass(e,t){e.length&&e.forEach((e=>{t?e.classList.remove(B):e.classList.add(B),e.setAttribute("aria-expanded",t)}))}static jQueryInterface(e){return this.each((function(){const t={};"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1);const s=U.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof s[e])throw new TypeError(`No method named "${e}"`);s[e]()}}))}}return r.default.on(document,E,M,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const t=g(this),s=d.default.find(t);s.forEach((e=>{U.getOrCreateInstance(e,{toggle:!1}).toggle()}))})),C(U),U}))},908:function(e,t,s){"use strict";function i(e){const t=new Date(1e3*e);return t.toLocaleDateString()}function n(e){const t=new Date(1e3*e),s=` ${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()}  ${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}`;return s}function l(e){const t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}s.d(t,{D:function(){return i},lf:function(){return n},$E:function(){return l}})},799:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var i=s(6252);const n={class:"loadingio-spinner-spin-gw0b9unmls"},l=(0,i._)("div",{class:"ldio-jjk31xq51n"},[(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")]),(0,i._)("div",null,[(0,i._)("div")])],-1),o=[l];function r(e,t){return(0,i.wg)(),(0,i.iD)("div",n,o)}var a=s(3744);const d={},c=(0,a.Z)(d,[["render",r]]);var u=c},2212:function(e,t,s){"use strict";s.d(t,{Z:function(){return p}});var i=s(6252),n=s(3577);const l={class:"position-relative d-flex align-items-center justify-content-center flex-column",style:{height:"calc(100vh - 172px)"}},o=(0,i._)("div",{class:"position-absolute header-banner",style:{top:"0",bottom:"0",left:"0",right:"0","background-position":"center center","background-size":"cover"}},null,-1),r={class:"fw-bold text-white fs-1 fs-md-80",style:{"z-index":"1"}},a={class:"fw-bold text-white fs-lg fs-md-1",style:{"z-index":"1"}};function d(e,t,s,d,c,u){return(0,i.wg)(),(0,i.iD)("div",l,[o,(0,i._)("h1",r,(0,n.zw)(s.title),1),(0,i._)("h1",a,(0,n.zw)(s.msg),1)])}var c=s(6005),u={props:{msg:String,title:String},data(){return{BannerImage:c}}},h=s(3744);const g=(0,h.Z)(u,[["render",d]]);var p=g},9999:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _e}});var i=s(6252),n=s(3577);const l={class:"background-secondary"},o={class:"container"},r={class:"breadcrumb pt-4"},a={class:"breadcrumb-item"},d=(0,i.Uk)(" 首頁 "),c=(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},"訂單查詢",-1),u={class:"row justify-content-center py-5"},h={class:"col-md-9"},g={class:"form-label text-start"},p=(0,i._)("label",{class:"mb-2 fs-5",for:"orderId"},"訂單編號",-1),f=["disabled"],_=(0,i._)("i",{class:"bi bi-search"},null,-1),m=[_],w={key:0,class:"col-md-9 mt-5","data-aos":"fade-up","data-aos-offset":"100"},b={class:"card"},y={class:"card-header",ref:"order"},v={class:"card-body"},C={class:"small text-end"},x={class:"accordion-item"},$={class:"accordion-header",id:"headingTwo"},k={class:"accordion-collapse collapse","aria-labelledby":"headingTwo",ref:"accordionCollapse"},z={class:"accordion-body list-unstyled",ref:"collapseUl"},A={class:"row g-0"},T={class:"col-4 col-md-3 col-lg-4 mt-3"},D=["src"],L={class:"col-8 col-md-9 col-lg-8 g-3 d-flex flex-column g-3 justify-content-between"},j={class:"fs-5 text-start d-flex justify-content-between"},S={class:"text-end"},E={class:"text-start mb-0"},I={class:"text-muted"},q={class:"mb-0 text-end fs-4"},O={class:"table table-hover mt-5"},B=(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"訂單編號",-1),N=(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"確認付款",-1),Z={key:0,class:"text-success"},W={key:1,class:"text-danger"},H={key:0},F=(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"付款時間",-1),M={class:"text-success"},U=(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"}," 優惠卷代碼 ",-1),V={class:"text-success"},P=(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"}," 折扣百分比 ",-1),Y={class:"text-danger"},Q=(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"姓名",-1),R=(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"手機",-1),K=(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"E-mail",-1),X=(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"收件地址",-1),G=(0,i._)("td",{scope:"row",class:"fw-bold",width:"30%"},"備註",-1),J=(0,i._)("td",{scope:"row",class:"fw-bold align-middle"},"訂單金額",-1),ee={class:"text-decoration-line-through"},te=(0,i._)("td",{scope:"row",class:"fw-bold align-middle"}," 折扣後金額 ",-1),se={class:"text-danger"},ie={key:3},ne=(0,i._)("td",{scope:"row",class:"fw-bold align-middle"},"訂單金額",-1),le={class:"text-danger"};function oe(e,t,s,_,oe,re){const ae=(0,i.up)("LoadingComponent"),de=(0,i.up)("VLoading"),ce=(0,i.up)("HeaderBanner"),ue=(0,i.up)("RouterLink"),he=(0,i.up)("VField"),ge=(0,i.up)("ErrorMessage"),pe=(0,i.up)("VForm");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(de,{active:oe.isLoading,"z-index":1060},{default:(0,i.w5)((()=>[(0,i.Wm)(ae)])),_:1},8,["active"]),(0,i.Wm)(ce,{title:"客戶訂單查詢"}),(0,i._)("div",l,[(0,i._)("div",o,[(0,i._)("ol",r,[(0,i._)("li",a,[(0,i.Wm)(ue,{to:"/",class:"nav-link active p-0"},{default:(0,i.w5)((()=>[d])),_:1})]),c]),(0,i._)("div",u,[(0,i._)("div",h,[(0,i._)("div",g,[p,(0,i.Wm)(pe,{class:"input-group",ref:"form",onSubmit:re.searchOrder},{default:(0,i.w5)((({errors:e})=>[(0,i.Wm)(he,{id:"orderId",type:"search",class:(0,n.C_)(["form-control",{"is-invalid":e["訂單編號"]}]),placeholder:"請輸入 訂單編號",name:"訂單編號",disabled:oe.searchType,modelValue:oe.orderId,"onUpdate:modelValue":t[0]||(t[0]=e=>oe.orderId=e),rules:"required"},null,8,["disabled","modelValue","class"]),(0,i._)("button",{type:"submit",class:"input-group-text btn btn-primary",disabled:Object.keys(e).length>0||oe.searchType||""===oe.orderId,id:"search-button"},m,8,f),(0,i.Wm)(ge,{name:"訂單編號",class:"invalid-feedback"})])),_:1},8,["onSubmit"])])]),oe.order?((0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("div",b,[(0,i._)("div",y,"訂單資訊",512),(0,i._)("div",v,[(0,i._)("p",C," 訂單成立時間:"+(0,n.zw)(re.DateTimeFn(oe.order.create_at)),1),(0,i._)("div",x,[(0,i._)("h2",$,[(0,i._)("button",{type:"button",class:"accordion-button fw-bold collapsed","aria-expanded":"false",style:{"font-size":"15px"},ref:"accordionButton",onClick:t[1]||(t[1]=(...e)=>re.toggleAccordionCollapse&&re.toggleAccordionCollapse(...e))}," 商品清單 ",512)]),(0,i._)("div",k,[(0,i._)("ul",z,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(oe.order.products,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{class:"border-0",key:t},[(0,i._)("div",A,[(0,i._)("div",T,[(0,i._)("img",{src:e.product.imageUrl,class:"",alt:"products.product.title",style:{"object-fit":"contain",height:"150px"}},null,8,D)]),(0,i._)("div",L,[(0,i._)("div",j,[(0,i._)("p",null,(0,n.zw)(e.product.title),1),(0,i._)("small",S,"X"+(0,n.zw)(e.qty),1)]),(0,i._)("p",E,[(0,i._)("small",I,"NT$"+(0,n.zw)(e.product.price)+" / "+(0,n.zw)(e.product.unit),1)]),(0,i._)("p",q," NT$"+(0,n.zw)(e.total),1)])])])))),128))],512)],512)]),(0,i._)("table",O,[(0,i._)("tbody",null,[(0,i._)("tr",null,[B,(0,i._)("td",null,(0,n.zw)(oe.order.id),1)]),(0,i._)("tr",null,[N,oe.order.is_paid?((0,i.wg)(),(0,i.iD)("td",Z,"已付款")):((0,i.wg)(),(0,i.iD)("td",W,"未付款"))]),oe.order.is_paid?((0,i.wg)(),(0,i.iD)("tr",H,[F,(0,i._)("td",M,(0,n.zw)(re.DateTimeFn(oe.order.paid_date)),1)])):(0,i.kq)("",!0),oe.isCoupon.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("tr",null,[U,(0,i._)("td",V,(0,n.zw)(oe.isCoupon.code),1)]),(0,i._)("tr",null,[P,(0,i._)("td",Y,(0,n.zw)(oe.isCoupon.percent)+"%",1)])],64)):(0,i.kq)("",!0),(0,i._)("tr",null,[Q,(0,i._)("td",null,(0,n.zw)(oe.order.user.name),1)]),(0,i._)("tr",null,[R,(0,i._)("td",null,(0,n.zw)(oe.order.user.tel),1)]),(0,i._)("tr",null,[K,(0,i._)("td",null,(0,n.zw)(oe.order.user.email),1)]),(0,i._)("tr",null,[X,(0,i._)("td",null,(0,n.zw)(oe.order.user.address),1)]),(0,i._)("tr",null,[G,(0,i._)("td",null,(0,n.zw)(oe.order.user.message),1)]),oe.isCoupon.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i._)("tr",null,[J,(0,i._)("td",ee," NT$ "+(0,n.zw)(oe.beforeOrderPrice),1)]),(0,i._)("tr",null,[te,(0,i._)("td",se," NT$ "+(0,n.zw)(Math.round(oe.order.total)),1)])],64)):((0,i.wg)(),(0,i.iD)("tr",ie,[ne,(0,i._)("td",le,"NT$ "+(0,n.zw)(oe.order.total),1)]))])])])])])):(0,i.kq)("",!0)])])])],64)}var re=s(2212),ae=s(799),de=s(3863),ce=s.n(de),ue=s(4902),he=s(908),ge={data(){return{isLoading:!1,searchType:!1,orderId:"",order:"",isCoupon:{type:!1},beforeOrderPrice:0}},components:{LoadingComponent:ae.Z,HeaderBanner:re.Z},methods:{DateTimeFn:he.lf,toggleAccordionCollapse(){this.accordionCollapse.toggle(),"collapsed"===this.accordionButton.getAttribute("class").split(" ").pop()?this.accordionButton.classList.remove("collapsed"):this.accordionButton.classList.add("collapsed")},searchOrder(){this.isLoading=!0,this.searchType=!0;const e=`https://vue3-course-api.hexschool.io/v2/api/clothes/order/${this.orderId}`;this.$http.get(e).then((e=>{const{order:t}=e.data;if(null===t)ue.Z.emit("push-message",{style:"danger",title:"請輸入正確的訂單編號"});else{this.order=t;let e=0;Object.values(this.order.products).forEach((t=>{if(void 0===t.coupon)this.isCoupon.type=!1;else{const{coupon:s}=t;e+=t.total,this.beforeOrderPrice=e,this.isCoupon=s,this.isCoupon.type=!0}})),ue.Z.emit("push-message",{style:"success",title:"訂單查詢成功"}),this.$refs.form.resetForm()}this.isLoading=!1,this.searchType=!1})).catch((e=>{this.isLoading=!1,ue.Z.emit("push-message",{style:"danger",title:`${e.response.data.message}`})}))}},watch:{order(){this.$nextTick((()=>{if(void 0!==this.$refs.accordionCollapse){const{accordionButton:e,accordionCollapse:t}=this.$refs;this.accordionButton=e,this.accordionCollapse=new(ce())(t,{toggle:!1})}}))}},mounted(){}},pe=s(3744);const fe=(0,pe.Z)(ge,[["render",oe]]);var _e=fe},6005:function(e,t,s){"use strict";e.exports=s.p+"img/banner.a8478803.png"}}]);
//# sourceMappingURL=999.e6e364e9.js.map