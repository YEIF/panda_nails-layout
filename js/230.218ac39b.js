"use strict";(self["webpackChunkpanda_nails"]=self["webpackChunkpanda_nails"]||[]).push([[230],{908:function(t,e,i){function s(t){const e=new Date(1e3*t);return e.toLocaleDateString()}function a(t){const e=new Date(1e3*t),i=` ${e.getFullYear()}/${e.getMonth()+1}/${e.getDate()}  ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`;return i}function n(t){const e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}i.d(e,{D:function(){return s},lf:function(){return a},$E:function(){return n}})},94:function(t,e,i){var s=i(4902);e["Z"]={methods:{toggleFavorite(t,e){const i=this.favoriteList.findIndex((e=>e===t));-1===i?(this.favoriteList.push(t),s.Z.emit("push-message",{style:"success",title:`${e}已 加入我的最愛`})):(this.favoriteList.splice(i,1),s.Z.emit("push-message",{style:"danger",title:`${e}已 取消我的最愛`}))},getFavorite(){const t=localStorage.getItem("Favorite")||"[]";this.favoriteList=JSON.parse(t)}}}},799:function(t,e,i){i.d(e,{Z:function(){return u}});var s=i(6252);const a={class:"loadingio-spinner-spin-gw0b9unmls"},n=(0,s._)("div",{class:"ldio-jjk31xq51n"},[(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")]),(0,s._)("div",null,[(0,s._)("div")])],-1),o=[n];function r(t,e){return(0,s.wg)(),(0,s.iD)("div",a,o)}var l=i(3744);const c={},d=(0,l.Z)(c,[["render",r]]);var u=d},2212:function(t,e,i){i.d(e,{Z:function(){return v}});var s=i(6252),a=i(3577);const n={class:"position-relative d-flex align-items-center justify-content-center flex-column",style:{height:"calc(100vh - 172px)"}},o=(0,s._)("div",{class:"position-absolute header-banner",style:{top:"0",bottom:"0",left:"0",right:"0","background-position":"center center","background-size":"cover"}},null,-1),r={class:"fw-bold text-white fs-1 fs-md-80",style:{"z-index":"1"}},l={class:"fw-bold text-white fs-lg fs-md-1",style:{"z-index":"1"}};function c(t,e,i,c,d,u){return(0,s.wg)(),(0,s.iD)("div",n,[o,(0,s._)("h1",r,(0,a.zw)(i.title),1),(0,s._)("h1",l,(0,a.zw)(i.msg),1)])}var d=i(6005),u={props:{msg:String,title:String},data(){return{BannerImage:d}}},g=i(3744);const p=(0,g.Z)(u,[["render",c]]);var v=p},3230:function(t,e,i){i.r(e),i.d(e,{default:function(){return q}});var s=i(6252),a=i(3577),n=i(9963);const o={class:"background-secondary"},r={class:"container"},l={class:"breadcrumb pt-4"},c={class:"breadcrumb-item"},d=(0,s.Uk)(" 首頁 "),u=(0,s._)("li",{class:"breadcrumb-item active","aria-current":"page"},"我的最愛",-1),g={key:0,class:"row list-unstyled row-cols-1 row-cols-md-2 row-cols-xl-4 mt-4 g-3 mb-0 pb-4"},p={class:"products-card position-relative"},v={class:"card p-3"},m={class:"card-img position-relative"},h={class:"img-pseudo"},f=["onClick","disabled"],_=(0,s.Uk)(" 加入購物車 "),b={key:0,class:"fas fa-spinner fa-pulse"},y=(0,s._)("i",{class:"bi bi-cart-plus fs-3"},null,-1),w=["onClick"],k={class:"card-body px-0"},L={class:"card-title text-start text-primaryDark text-nowrap"},x=["onClick"],$={class:"card-text d-flex mt-5 text-danger"},Z={class:"me-4 text-blackGray"},C={key:1,class:"pb-4"},D=(0,s._)("i",{class:"bi bi-info-square fs-1"},null,-1),I=(0,s._)("p",{class:"fs-4",style:{"letter-spacing":"2px"}},"目前沒有喜愛的商品",-1),S=(0,s.Uk)("收藏商品 ");function z(t,e,i,z,F,T){const U=(0,s.up)("LoadingComponent"),W=(0,s.up)("VLoading"),j=(0,s.up)("HeaderBanner"),H=(0,s.up)("RouterLink");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(W,{active:F.isLoading,"z-index":1060},{default:(0,s.w5)((()=>[(0,s.Wm)(U)])),_:1},8,["active"]),(0,s.Wm)(j,{title:"收藏頁面"}),(0,s._)("div",o,[(0,s._)("div",r,[(0,s._)("ol",l,[(0,s._)("li",c,[(0,s.Wm)(H,{to:"/",class:"nav-link active p-0"},{default:(0,s.w5)((()=>[d])),_:1})]),u]),F.favoriteList?.length>0?((0,s.wg)(),(0,s.iD)("ul",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(T.filterProducts,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"col",key:e.id,"data-aos":"fade-up"},[(0,s._)("div",p,[(0,s._)("div",v,[(0,s._)("div",m,[(0,s.Wm)(H,{to:`/product/${e.id}`,class:"product-img",style:(0,a.j5)([{},{backgroundImage:`url(${e.imageUrl})`}])},{default:(0,s.w5)((()=>[(0,s._)("div",h,[(0,s._)("button",{type:"button",onClick:(0,n.iM)((t=>T.addToCart(e.id,e.title)),["prevent"]),disabled:F.isLoadingItem===e.id,class:"btn btn-dark w-100 py-2 pseudo-text d-block"},[_,F.isLoadingItem===e.id?((0,s.wg)(),(0,s.iD)("i",b)):(0,s.kq)("",!0),y],8,f)]),(0,s._)("button",{type:"button",class:"btn text-danger position-absolute fs-4 p-1",style:{right:"8%",top:"5%"},onClick:(0,n.iM)((t=>T.toggleFavorite(e.id,e.title)),["prevent"])},[(0,s._)("i",{class:(0,a.C_)(F.favoriteList.includes(e.id)?"bi-heart-fill":"bi-heart")},null,2)],8,w)])),_:2},1032,["to","style"])]),(0,s._)("div",k,[(0,s._)("h5",L,[(0,s.Uk)((0,a.zw)(e.title)+" ",1),(0,s._)("span",{type:"button",class:"badge rounded-pill bg-primary fs-6 ms-4",onClick:(0,n.iM)((i=>t.goToCategory(e.category)),["prevent"])},(0,a.zw)(e.category),9,x)]),(0,s._)("p",$,[(0,s._)("del",Z," NT $"+(0,a.zw)(T.toThousandths(e.origin_price))+" 元",1),(0,s.Uk)(" NT $"+(0,a.zw)(T.toThousandths(e.price))+" 元 ",1)])])])])])))),128))])):((0,s.wg)(),(0,s.iD)("div",C,[D,I,(0,s.Wm)(H,{to:"/products",class:"btn btn-primary py-2 px-4"},{default:(0,s.w5)((()=>[S])),_:1})]))])])],64)}var F=i(2212),T=i(4902),U=i(799),W=i(94),j=i(908),H={mixins:[W.Z],data(){return{products:[],isLoadingItem:!1,loadingStatus:{loadingItem:""},isLoading:!1,category:"流水畫",favoriteList:[]}},components:{LoadingComponent:U.Z,HeaderBanner:F.Z},methods:{toThousandths:j.$E,getProducts(){this.isLoading=!0,this.$http.get("https://vue3-course-api.hexschool.io/v2/api/clothes/products/all").then((t=>{this.products=t.data.products,this.pagination=t.data.pagination,this.isLoading=!1})).catch((t=>{T.Z.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))},addToCart(t,e,i=1){const s={product_id:t,qty:i};this.isLoadingItem=t;const a="https://vue3-course-api.hexschool.io/v2/api/clothes/cart/";this.$http.post(a,{data:s}).then((t=>{this.isLoadingItem="",T.Z.emit("push-message",{style:"success",title:`${e}${t.data.message}`}),T.Z.emit("get-cart-num")})).catch((t=>{this.isLoadingItem="",T.Z.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))},toggleFavorite(t,e){const i=this.favoriteList.findIndex((e=>e===t));-1===i?(this.favoriteList.push(t),T.Z.emit("push-message",{style:"success",title:`${e}已 加入我的最愛`})):(this.favoriteList.splice(i,1),T.Z.emit("push-message",{style:"danger",title:`${e}已 取消我的最愛`}))},getFavorite(){const t=localStorage.getItem("Favorite")||"[]";this.favoriteList=JSON.parse(t)}},watch:{favoriteList:{handler(){localStorage.setItem("Favorite",JSON.stringify(this.favoriteList)),T.Z.emit("get-favorite-num")},deep:!0}},computed:{filterProducts(){return this.products.filter((t=>this.favoriteList.includes(t.id)))}},mounted(){this.getFavorite(),this.getProducts()}},M=i(3744);const N=(0,M.Z)(H,[["render",z]]);var q=N},6005:function(t,e,i){t.exports=i.p+"img/banner.a8478803.png"}}]);
//# sourceMappingURL=230.218ac39b.js.map